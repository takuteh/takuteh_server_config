# Listen on port 3128
http_port 3128

# Access control for localhost and specific network
acl localhost src 127.0.0.1/32
acl mynetwork src 10.0.0.0/24

# Load whitelist from file (domain names)
acl whitelist dstdomain "/etc/squid/whitelist.txt"

# Allow access from localhost
http_access allow localhost

# Allow access only to whitelisted domains from mynetwork
http_access allow mynetwork whitelist

# Deny all other access
http_access deny all

# Logging
access_log /var/log/squid/access.log

max_filedescriptors 1048576